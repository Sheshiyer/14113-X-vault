---
name: retrieval-skill
description: Semantic search and retrieval across the 3.2M chunk Meru index. Use this skill when asked to "search the vault", "find related knowledge", or "retrieve evidence" for content generation. Provides high-speed semantic retrieval using FAISS and MiniLM-L6-v2.
version: 3.0
stage: retrieval
dependencies:
  - _System/scripts/memory/query_vault.py
  - .venv-meru
outputs:
  - JSON search results
  - Formatted Markdown evidence
---

# ðŸŽï¸ Retrieval Skill - Meru Semantic Layer (v3.0)

**Role**: High-speed semantic retrieval engine for the TWC Vault

---

## Overview

> ðŸ’¡ **Purpose**: The Retrieval Skill provides the interface to the Meru semantic layer, allowing for instant discovery across millions of knowledge chunks. It bridges the gap between raw data storage and active intelligence.

This skill should be invoked before any creative or analytical task where "global vault awareness" is needed. Instead of simple grepping, it uses vector embeddings to find conceptually related content even when keywords don't match exactly.

**Engine Stats**:
- **Index**: 3,202,158 high-quality chunks.
- **Model**: `all-MiniLM-L6-v2` (384-dim).
- **Quality**: Filtered by boilerplate detection and SHA-256 deduplication.

---

## When to Use

Use this skill when:
- âœ… Asked to "search the vault" or "find info on X".
- âœ… Building a **Source Lattice** for the Content Engine.
- âœ… Performing **Retrieval-Augmented Classification** (Stage 3 Analysis).
- âœ… Looking for **cross-domain connections** (e.g., matching Enneagram to Bioelectronics).
- âœ… verifying if a concept already exists before adding a new note.

---

## Core Process

### 1. Simple Search
Run a semantic query across the entire vault.

**Command**:
```bash
.venv-meru/bin/python3 _System/scripts/memory/query_vault.py --query "[YOUR_QUERY]" --top 10
```

### 2. Targeted Filtering (PARA/Domain)
Restrict search to specific buckets to reduce noise.

**Command**:
```bash
.venv-meru/bin/python3 _System/scripts/memory/query_vault.py --query "[QUERY]" --para Projects --top 5
```

### 3. JSON Output (for Integration)
Retrieve machine-readable results for other skills (like analysis or scaffolding).

**Command**:
```bash
.venv-meru/bin/python3 _System/scripts/memory/query_vault.py --query "[QUERY]" --json
```

### â˜¸ï¸ Integrated Visualization
For a visual/real-time view of vault activity:
- **TUI**: Use `noesis telemetry watch` to monitor live system events.
- **Dashboard**: Visit `http://localhost:5199` (Brahman Darshanam) to see the Annamaya (File) layer state.

---

## Quality Gates

| Metric | Target | Description |
|------|-----------|-------------------|
| Chunk Quality | > 0.3 | Skip low-information/boilerplate chunks. |
| Relevance Score | > 0.6 | High confidence semantic matches. |
| Deduplication | 100% | Never return the same semantic chunk twice. |

---

## Examples

**Example 1: Knowledge Discovery**
"Find me everything we have on 'Ionic Waves' in the Resources category."
â†’ Result: Top papers from `03-Resources/Technology/` with direct snippets.

**Example 2: Evidence Scaffolding**
"Retrieve 3 pieces of evidence from my 'Areas' supporting the claim that 'repetition is architecture'."
â†’ Result: Chunks from `02-Areas/Consciousness-Models/` showing consistent pattern development.

---

## Notes
- **Venv Required**: Must use `.venv-meru/bin/python3`.
- **Index Location**: `_System/memory/vault.faiss`.
- **Offloaded Content**: This skill reads through symlinks to the `samskara` volume automatically.

---
*Generated by Meru Intelligence Layer v3.0*
